<div class="dragHandler topBar noMaximize noSettings black"><process-bar></process-bar><div class="appControls"></div><div ng-click="stepBack()" ng-if="canGoBack()" class="backButton"></div><div ng-if="currentStep.translateTitle" translate="currentStep.translateTitle" class="title"></div><div ng-if="!currentStep.translateTitle" class="title">{{currentStep.title}}</div></div><div class="body"><div class="leftPanel"><div ng-repeat="section in sections" ng-class="{'active':state.currentSection==section}" ng-click="selectSection(section)" class="menuItem"><span translate="'settings_section_' + section"></span></div></div><div ng-switch="state.currentSection" antiscroll="antiscroll" class="rightContent wallpaperDropable"><div ng-switch-when="personal" class="settingsFrame"><div translate="'settingsApp_personalInfo'" class="header"></div><div class="section"><div class="line"><div translate="'userOptions_main_name'" class="lineTitle"></div><input ng-model="user.firstName" placeholder="" bl-sanitize="username" enter-update="enter-update" bl-maxlength="20" ng-model-options="{ updateOn: 'blur', debounce: {'default': 500, 'blur': 0} }" ng-change="setOptions()"/></div><div class="line"><div translate="'userOptions_main_surname'" class="lineTitle"></div><input ng-model="user.lastName" placeholder="" bl-sanitize="username" enter-update="enter-update" bl-maxlength="20" ng-model-options="{ updateOn: 'blur', debounce: {'default': 500, 'blur': 0} }" ng-change="setOptions()"/></div><div class="line"><div translate="'userOptions_main_email'" class="lineTitle"></div><input ng-model="user.login" placeholder="" enter-update="enter-update" ng-model-options="{ updateOn: 'blur', debounce: {'default': 500, 'blur': 0} }" ng-change="setUserEmail()" ng-disabled="user.registered" class="login"/></div></div><div ng-show="showNotConfirmed()" ng-click="resendConfirm()" translate="'userOptions_main_notConfirmed'" class="resend"></div><div translate="'settingsApp_password'" class="header"></div><div class="section"><div class="line"><div translate="'userOptions_main_newPassword'" class="lineTitle"></div><input ng-model="passwords.first" placeholder="●●●●●●●●" type="password" translate-into-english="password" ng-disabled="!user.registered"/></div><div ng-show="passwords.first &amp;&amp; passwords.first.length&lt;6" translate="'userOptions_main_newPassword-error'" class="line err"></div><div class="line"><div translate="'userOptions_main_confirmPassword'" class="lineTitle"></div><input ng-model="passwords.second" placeholder="●●●●●●●●" type="password" translate-into-english="password" ng-disabled="!user.registered"/></div><div ng-if="passwords.first &amp;&amp; passwords.second &amp;&amp; passwords.first!=passwords.second" translate="'userOptions_main_confirmPassword-error'" class="line err"></div><div ng-if="needCurrentPassword()" class="line"><div translate="'userOptions_main_currentPassword'" class="lineTitle"></div><input ng-model="passwords.password" placeholder="●●●●●●●●" type="password" translate-into-english="password" ng-disabled="!user.registered"/></div></div><div ng-click="setUserData()" ng-if="passwords.first &amp;&amp; passwords.second &amp;&amp; passwords.password &amp;&amp; passwords.first==passwords.second" translate="'userOptions_main_confirm'" class="line setUserData"></div><div translate="'settingsApp_regionalSettings'" class="header"></div><div class="section"><div class="line"><div translate="'userOptions_main_timezone'" class="lineTitle"></div><combobox ng-model="user.timezone" list="timezonesList" ng-change="setTimezone()"></combobox></div><div class="line"><div translate="'userOptions_main_lang'" class="lineTitle"></div><combobox ng-model="langParams.selectedLang" list="langList" ng-change="updateLang()"></combobox></div></div></div><div ng-switch-when="accounts" class="settingsFrame accountsSettingsFrame"><div translate="'settingsApp_addAccount'" class="header"></div><div class="section sectionItemContainer"><div ng-repeat="sn in networks | filter: {enable: true}" ng-click="addAccount(sn.type)" class="sectionItem"><div ng-style="{background: sn.background}" class="snPic">{{sn.type.toUpperCase()}}</div><div class="snTitle">{{sn.name}}</div></div></div><div translate="'settingsApp_connectedAccounts'" class="header"></div><div class="section"><li ng-repeat="acc in user.accounts" ng-class="{white: !acc.enabled}" class="line"><div class="icon"> <div ng-style="{background: networksData[acc.socialNetwork].background}" class="shield">{{acc.socialNetwork}}</div></div><div class="name lineTitle">{{acc.name}}</div><div class="float-right"><checkbox ng-model="acc.enabled" ng-change="changeAccEnabled(acc)" class="long tl_accenable"></checkbox><div ng-click="detachAccount(acc, $event)" class="detacher"></div></div></li></div></div><div ng-switch-when="appearance" class="settingsFrame"><div translate="'settingsApp_backgroundColor'" class="header"></div><div class="section colorsSection"><div ng-repeat="color in solidColors" ng-style="{'background':color.value}" ng-class="{'active':color.value==user.settings.wallpaperSettings.color}" title="{{color.title}}" ng-click="setBackground(color.value)" class="color"></div></div><div translate="'settingsApp_wallpaper'" class="header"></div><div dropable-item="{'type':'wallpaperSettings'}" class="section colorsSection droppableItem"><div ng-class="{'active':null==user.settings.wallpaperSettings.wallpaper}" ng-click="setWallpaper(null)" class="color none"></div><div ng-repeat="id in user.wallpapers" ng-class="{'active':id==user.settings.wallpaperSettings.wallpaper}" ng-click="setWallpaper(id)" class="color"><div id="id" type="image" class="itemPreview"></div><div ng-click="removeWallpaper(id)" class="remove"></div></div><div ng-repeat="id in coreSettings.wallpapers" ng-class="{'active':id==user.settings.wallpaperSettings.wallpaper}" ng-click="setWallpaper(id)" class="color"><div id="id" type="image" class="itemPreview"></div></div></div></div><div ng-switch-when="billing" class="settingsFrame"><div translate="'settingsApp_fillBalance'" class="header"></div><div class="section"><li ng-click="selectSublevel('billing_fill')" class="line"><div translate="'userOptions_main_amount'" class="lineTitle"></div><div class="float-right"><div class="value">{{user.amount + ' ' + localization.declensionPhrase(user.amount,'roubles')}}</div><div class="arrow-right"></div></div></li><li ng-click="selectSublevel('billing_fill')" class="line clickable"><div translate="'settingsApp_doFill'" class="lineTitle"></div></li></div><div translate="'settingsApp_prolong'" class="header"></div><div class="section"><li ng-click="selectSublevel('billing_prolong')" class="line"><div translate="'userOptions_main_expires'" class="lineTitle"></div><div class="float-right"><div class="value">{{user.expiredDate | timestampMask:"DD.MM.YYYY в hh:mm"}}</div><div class="arrow-right"></div></div></li><li ng-click="selectSublevel('billing_prolong')" class="line clickable"><div translate="'settingsApp_doFill'" class="lineTitle"></div></li></div></div><div ng-switch-when="billing_fill" class="settingsFrame"><div translate="'settingsApp_fillBalance'" class="header"></div><div translate="'settings_billing_filling_details'" class="section textSection"></div><div class="section billingItems"><li ng-repeat="item in chargeList" class="line clickable"> <div ng-if="!$last" ng-click="charge(item)" class="price">{{item.value + ' ' + localization.declensionPhrase(item.value,'roubles')}}</div><div ng-if="$last" translate="'settingsApp_prolong_anyAmount'" ng-click="selectSublevel('billing_prolong_anyAmount')" class="price"> </div></li></div></div><div ng-switch-when="billing_prolong" class="settingsFrame"><div translate="'settingsApp_prolong'" class="header"></div><div translate="'settings_billing_prolong_details'" class="section textSection"></div><div class="section billingItems"><li ng-repeat="item in prolongList" ng-click="prolong(item)" class="line clickable"><span>{{item.value}} </span><span>{{localization.declensionPhrase(item.value, 'costDays')}} </span><span class="za">за </span><span>{{item.amount + ' ' + localization.declensionPhrase(item.amount, 'roubles')}}</span></li></div></div><div ng-switch-when="billing_prolong_anyAmount" class="settingsFrame"><div translate="'settingsApp_prolong'" class="header"></div><div translate="'settings_billing_prolongAny_details'" class="section textSection"></div><div class="section billingItems"><li class="line"><input ng-model="prolongSumm"/></li><li ng-click="check(prolongSumm)" translate="'settingsApp_doFill'" class="line clickable"></li></div></div><div ng-switch-when="other" class="settingsFrame"><div translate="'settingsApp_otherSettings'" class="header"></div><div class="section optionsSection"><li class="line"><div translate="'userOptions_takeUploadToRight'" class="name lineTitle"></div><checkbox ng-model="user.settings.takeUploadToRight" ng-change="setOptions()" class="long"></checkbox></li><li class="line"><div translate="'userOptions_simpleMode'" class="name lineTitle"></div><checkbox ng-model="user.settings.simpleMode" ng-change="setOptions()" class="long"></checkbox></li></div></div><div translate="'userOptions_add_user_wallpapers'" class="dropHelperMsg"></div></div></div><bread-crombs></bread-crombs>